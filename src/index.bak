// import { MatchResult } from "./MatchResult";
import { CvsFileReader } from "./CsvFileReader";
import { MatchReader } from "./MatchReader";
import { WinAnalysis } from "./analyzers/WinAnalysis";
import { ConsoleReport } from "./reportTargets/ConsoleReports";
import { Summary } from "./Summary";
import { htmlReport } from "./reportTargets/htmlReport";

// const reader = new MatchReader("football.csv");
// reader.read();

//create an object that satisfies the 'DataReader' interface
const cvsFileReader = new CvsFileReader("football.csv");

// Create an instance of MatchReader and pass in somehing satisfiesthe 'DateReader' interface

const matchReader = new MatchReader(cvsFileReader);
matchReader.load();

// matchReader.matches

// let manUnitedWins = 0;

// for (let match of matchReader.matches) {
//   if (match[1] === "Man United" && match[5] === MatchResult.HomeWin) {
//     manUnitedWins++;
//   } else if (match[2] === "Man United" && match[5] === MatchResult.AwayWin) {
//     manUnitedWins++;
//   }
// }

// console.log(`Man United Wins: ${manUnitedWins}`);

const summary = new Summary(new WinAnalysis("Man United"), new htmlReport());

summary.buildAndPrintReport(matchReader.matches);
